import{r as o,i as L}from"./react-DpEkHeJY.js";import{u as k,c as b,a as h,b as C,e as R,d as S,L as g,f as I,g as O,h as j,w as x}from"./@react-leaflet-BAW5WK6Z.js";import{l as m}from"./leaflet-u3MoZU3F.js";import"./react-dom-DIJaDra_.js";function _(){return k().map}const q=b(function({center:a,children:e,...n},t){const s=new m.CircleMarker(a,n);return C(s,R(t,{overlayContainer:s}))},h);function B({bounds:u,boundsOptions:a,center:e,children:n,className:t,id:s,placeholder:r,style:f,whenReady:c,zoom:p,...P},v){const[w]=o.useState({className:t,id:s,style:f}),[l,M]=o.useState(null),d=o.useRef(void 0);o.useImperativeHandle(v,()=>l?.map??null,[l]);const E=o.useCallback(y=>{if(y!==null&&!d.current){const i=new m.Map(y,P);d.current=i,e!=null&&p!=null?i.setView(e,p):u!=null&&i.fitBounds(u,a),c!=null&&i.whenReady(c),M(S(i))}},[]);o.useEffect(()=>()=>{l?.map.remove()},[l]);const T=l?L.createElement(g,{value:l},n):r??null;return L.createElement("div",{...w,ref:E},T)}const A=o.forwardRef(B),D=I(function(a,e){const n=new m.Popup(a,e.overlayContainer);return C(n,e)},function(a,e,{position:n},t){o.useEffect(function(){const{instance:r}=a;function f(p){p.popup===r&&(r.update(),t(!0))}function c(p){p.popup===r&&t(!1)}return e.map.on({popupopen:f,popupclose:c}),e.overlayContainer==null?(n!=null&&r.setLatLng(n),r.openOn(e.map)):e.overlayContainer.bindPopup(r),function(){e.map.off({popupopen:f,popupclose:c}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(r)}},[a,e,t,n])}),F=O(function({url:a,...e},n){const t=new m.TileLayer(a,x(e,n));return C(t,n)},function(a,e,n){j(a,e,n);const{url:t}=e;t!=null&&t!==n.url&&a.setUrl(t)});export{q as C,A as M,D as P,F as T,_ as u};
